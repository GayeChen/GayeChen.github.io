<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="情深不寿，慧极必伤">
<meta property="og:type" content="website">
<meta property="og:title" content="博客">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="博客">
<meta property="og:description" content="情深不寿，慧极必伤">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="博客">
<meta name="twitter:description" content="情深不寿，慧极必伤">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>博客</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?daced749275730046d41646c21449c7e";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Gaye Cheng的博客</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/06/04/网站性能优化实战/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Gaye Cheng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/04/网站性能优化实战/" itemprop="url">网站性能优化实战</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-06-04T16:55:42+08:00">
                2018-06-04
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/06/04/网站性能优化实战/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/06/04/网站性能优化实战/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2018/06/04/网站性能优化实战/" class="leancloud_visitors" data-flag-title="网站性能优化实战">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="优化结果："><a href="#优化结果：" class="headerlink" title="优化结果："></a>优化结果：</h2><ul>
<li>结果首屏时间从20多秒缩减为1s</li>
</ul>
<h2 id="nginx配置js压缩"><a href="#nginx配置js压缩" class="headerlink" title="nginx配置js压缩"></a>nginx配置js压缩</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gzip on</span><br><span class="line">gzip types application/javascript ...</span><br></pre></td></tr></table></figure>
<h2 id="配置etag-和expire"><a href="#配置etag-和expire" class="headerlink" title="配置etag 和expire"></a>配置etag 和expire</h2><h2 id="图片资源优化"><a href="#图片资源优化" class="headerlink" title="图片资源优化"></a>图片资源优化</h2><h4 id="1-压缩图片，tinypng"><a href="#1-压缩图片，tinypng" class="headerlink" title="1. 压缩图片，tinypng"></a>1. 压缩图片，<a href="https://tinypng.com/" target="_blank" rel="noopener">tinypng</a></h4><h4 id="2-图片懒加载-加载条件为：元素的scrollTop-clientHeight-gt-window-scrollTop"><a href="#2-图片懒加载-加载条件为：元素的scrollTop-clientHeight-gt-window-scrollTop" class="headerlink" title="2. 图片懒加载, 加载条件为：元素的scrollTop - clientHeight &gt; window.scrollTop"></a>2. 图片懒加载, 加载条件为：元素的scrollTop - clientHeight &gt; window.scrollTop</h4><h2 id="JS优化"><a href="#JS优化" class="headerlink" title="JS优化"></a>JS优化</h2><h3 id="1-使用延迟脚本或者异步脚本"><a href="#1-使用延迟脚本或者异步脚本" class="headerlink" title="1. 使用延迟脚本或者异步脚本"></a>1. 使用延迟脚本或者异步脚本</h3><h3 id="2-入口文件或者首页依赖的包，不要放进vendor"><a href="#2-入口文件或者首页依赖的包，不要放进vendor" class="headerlink" title="2. 入口文件或者首页依赖的包，不要放进vendor"></a>2. 入口文件或者首页依赖的包，不要放进vendor</h3><ul>
<li>虽然分离公共的库进vendor可以加快打包速度，但是增加了vendor的体积，</li>
<li><p>非入口文件依赖的vendor使用async，入口文件和首页文件，使用defer，可以使用文件js按顺序执行，并且不阻塞页面渲染。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">new HtmlWebpackPlugin(&#123;</span><br><span class="line">    template: paths.client(&apos;index.html&apos;),</span><br><span class="line">    chunksSortMode: &apos;dependency&apos;,</span><br><span class="line">    hash: false,</span><br><span class="line">    // favicon: paths.client(&apos;static/favicon.ico&apos;),</span><br><span class="line">    filename: &apos;index.html&apos;,</span><br><span class="line">    inject: &apos;body&apos;,</span><br><span class="line">    minify: &#123;</span><br><span class="line">      collapseWhitespace: true</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;),</span><br></pre></td></tr></table></figure>
</li>
<li><p>插入延迟或者异步脚本，需借助html-webpack-plugin的插件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">new ScriptExtHtmlWebpackPlugin(&#123;</span><br><span class="line">    defer: [&apos;vendor1&apos;, &apos;app&apos;],</span><br><span class="line">    defaultAttribute: &apos;async&apos;</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/05/08/面试题集锦/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Gaye Cheng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/08/面试题集锦/" itemprop="url">面试题集锦</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-05-08T10:31:27+08:00">
                2018-05-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/面试题/" itemprop="url" rel="index">
                    <span itemprop="name">面试题</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/05/08/面试题集锦/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/05/08/面试题集锦/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2018/05/08/面试题集锦/" class="leancloud_visitors" data-flag-title="面试题集锦">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h2><h3 id="你在昨天-本周学到了什么？"><a href="#你在昨天-本周学到了什么？" class="headerlink" title="你在昨天/本周学到了什么？"></a>你在昨天/本周学到了什么？</h3><h3 id="编写代码的哪些方面能够使你兴奋或感兴趣？"><a href="#编写代码的哪些方面能够使你兴奋或感兴趣？" class="headerlink" title="编写代码的哪些方面能够使你兴奋或感兴趣？"></a>编写代码的哪些方面能够使你兴奋或感兴趣？</h3><h3 id="你最近遇到过什么技术挑战？你是如何解决的？"><a href="#你最近遇到过什么技术挑战？你是如何解决的？" class="headerlink" title="你最近遇到过什么技术挑战？你是如何解决的？"></a>你最近遇到过什么技术挑战？你是如何解决的？</h3><h3 id="在制作一个网页应用或网站的过程中，你是如何考虑其-UI、安全性、高性能、SEO、可维护性以及技术因素的？"><a href="#在制作一个网页应用或网站的过程中，你是如何考虑其-UI、安全性、高性能、SEO、可维护性以及技术因素的？" class="headerlink" title="在制作一个网页应用或网站的过程中，你是如何考虑其 UI、安全性、高性能、SEO、可维护性以及技术因素的？"></a>在制作一个网页应用或网站的过程中，你是如何考虑其 UI、安全性、高性能、SEO、可维护性以及技术因素的？</h3><h3 id="请谈谈你喜欢的开发环境。"><a href="#请谈谈你喜欢的开发环境。" class="headerlink" title="请谈谈你喜欢的开发环境。"></a>请谈谈你喜欢的开发环境。</h3><h3 id="你最熟悉哪一套版本控制系统？"><a href="#你最熟悉哪一套版本控制系统？" class="headerlink" title="你最熟悉哪一套版本控制系统？"></a>你最熟悉哪一套版本控制系统？</h3><h3 id="你能描述当你制作一个网页的工作流程吗？"><a href="#你能描述当你制作一个网页的工作流程吗？" class="headerlink" title="你能描述当你制作一个网页的工作流程吗？"></a>你能描述当你制作一个网页的工作流程吗？</h3><h3 id="假若你有-5-个不同的样式文件-stylesheets-整合进网站的最好方式是"><a href="#假若你有-5-个不同的样式文件-stylesheets-整合进网站的最好方式是" class="headerlink" title="假若你有 5 个不同的样式文件 (stylesheets), 整合进网站的最好方式是?"></a>假若你有 5 个不同的样式文件 (stylesheets), 整合进网站的最好方式是?</h3><h3 id="你能描述渐进增强-progressive-enhancement-和优雅降级-graceful-degradation-之间的不同吗"><a href="#你能描述渐进增强-progressive-enhancement-和优雅降级-graceful-degradation-之间的不同吗" class="headerlink" title="你能描述渐进增强 (progressive enhancement) 和优雅降级 (graceful degradation) 之间的不同吗?"></a>你能描述渐进增强 (progressive enhancement) 和优雅降级 (graceful degradation) 之间的不同吗?</h3><h3 id="你如何对网站的文件和资源进行优化？"><a href="#你如何对网站的文件和资源进行优化？" class="headerlink" title="你如何对网站的文件和资源进行优化？"></a>你如何对网站的文件和资源进行优化？</h3><h3 id="浏览器同一时间可以从一个域名下载多少资源？有什么例外吗？"><a href="#浏览器同一时间可以从一个域名下载多少资源？有什么例外吗？" class="headerlink" title="浏览器同一时间可以从一个域名下载多少资源？有什么例外吗？"></a>浏览器同一时间可以从一个域名下载多少资源？有什么例外吗？</h3><h3 id="请说出三种减少页面加载时间的方法。-加载时间指感知的时间或者实际加载时间"><a href="#请说出三种减少页面加载时间的方法。-加载时间指感知的时间或者实际加载时间" class="headerlink" title="请说出三种减少页面加载时间的方法。(加载时间指感知的时间或者实际加载时间)"></a>请说出三种减少页面加载时间的方法。(加载时间指感知的时间或者实际加载时间)</h3><h3 id="如果你参与到一个项目中，发现他们使用-Tab-来缩进代码，但是你喜欢空格，你会怎么做？"><a href="#如果你参与到一个项目中，发现他们使用-Tab-来缩进代码，但是你喜欢空格，你会怎么做？" class="headerlink" title="如果你参与到一个项目中，发现他们使用 Tab 来缩进代码，但是你喜欢空格，你会怎么做？"></a>如果你参与到一个项目中，发现他们使用 Tab 来缩进代码，但是你喜欢空格，你会怎么做？</h3><h3 id="请写一个简单的幻灯效果页面。"><a href="#请写一个简单的幻灯效果页面。" class="headerlink" title="请写一个简单的幻灯效果页面。"></a>请写一个简单的幻灯效果页面。</h3><h3 id="如果今年你打算熟练掌握一项新技术，那会是什么？"><a href="#如果今年你打算熟练掌握一项新技术，那会是什么？" class="headerlink" title="如果今年你打算熟练掌握一项新技术，那会是什么？"></a>如果今年你打算熟练掌握一项新技术，那会是什么？</h3><h3 id="请谈谈你对网页标准和标准制定机构重要性的理解。"><a href="#请谈谈你对网页标准和标准制定机构重要性的理解。" class="headerlink" title="请谈谈你对网页标准和标准制定机构重要性的理解。"></a>请谈谈你对网页标准和标准制定机构重要性的理解。</h3><h3 id="什么是-FOUC-无样式内容闪烁-？你如何来避免-FOUC？"><a href="#什么是-FOUC-无样式内容闪烁-？你如何来避免-FOUC？" class="headerlink" title="什么是 FOUC (无样式内容闪烁)？你如何来避免 FOUC？"></a>什么是 FOUC (无样式内容闪烁)？你如何来避免 FOUC？</h3><h3 id="请解释什么是-ARIA-和屏幕阅读器-screenreaders-，以及如何使网站实现无障碍访问-accessible-。"><a href="#请解释什么是-ARIA-和屏幕阅读器-screenreaders-，以及如何使网站实现无障碍访问-accessible-。" class="headerlink" title="请解释什么是 ARIA 和屏幕阅读器 (screenreaders)，以及如何使网站实现无障碍访问 (accessible)。"></a>请解释什么是 ARIA 和屏幕阅读器 (screenreaders)，以及如何使网站实现无障碍访问 (accessible)。</h3><h3 id="请解释-CSS-动画和-JavaScript-动画的优缺点。"><a href="#请解释-CSS-动画和-JavaScript-动画的优缺点。" class="headerlink" title="请解释 CSS 动画和 JavaScript 动画的优缺点。"></a>请解释 CSS 动画和 JavaScript 动画的优缺点。</h3><h3 id="什么是跨域资源共享-CORS-？它用于解决什么问题？"><a href="#什么是跨域资源共享-CORS-？它用于解决什么问题？" class="headerlink" title="什么是跨域资源共享 (CORS)？它用于解决什么问题？"></a>什么是跨域资源共享 (CORS)？它用于解决什么问题？</h3><h2 id="HTML问题"><a href="#HTML问题" class="headerlink" title="HTML问题"></a>HTML问题</h2><h3 id="doctype的作用是什么"><a href="#doctype的作用是什么" class="headerlink" title="doctype的作用是什么"></a>doctype的作用是什么</h3><ul>
<li>激活各种渲染模式(标准模式、准标准模式、怪异模式)，现在最常用的基本上有两种<ol>
<li>html5的标准模式 &lt;!DOCTYPE html&gt;</li>
<li>XHTML 1.0用于过度的doctype，激活准标准模式<br>&lt;!DOCTYPE html PUBLIC “-//W3C//DTD XHTML 1.0 Transitional//EN” “<a href="http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;" target="_blank" rel="noopener">http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;</a>&gt;</li>
</ol>
</li>
<li>参考<a href="https://witcher42.github.io/2014/05/28/doctype/" target="_blank" rel="noopener">https://witcher42.github.io/2014/05/28/doctype/</a></li>
</ul>
<h3 id="浏览器标准模式-standards-mode-、准标准模式（almost-standards-mode）和混杂-怪异-模式-quirks-mode-之间的区别是什么？"><a href="#浏览器标准模式-standards-mode-、准标准模式（almost-standards-mode）和混杂-怪异-模式-quirks-mode-之间的区别是什么？" class="headerlink" title="浏览器标准模式 (standards mode) 、准标准模式（almost standards mode）和混杂(怪异)模式 (quirks mode) 之间的区别是什么？"></a>浏览器标准模式 (standards mode) 、准标准模式（almost standards mode）和混杂(怪异)模式 (quirks mode) 之间的区别是什么？</h3><blockquote>
<ul>
<li>怪异模式：不同的浏览器在页面的渲染上没有统一的规范，产生了差异，那些网页是按照当时占统治地位的浏览器的渲染模式来渲染的，因为不同浏览器解析方式不同，所以称之为怪异模式</li>
<li>标准模式是指，浏览器按照W3C的最新标准解析执行代码</li>
<li>浏览器解析时到底使用标准模式还是怪异模式，与你网页中的DTD声明直接相关，DTD声明定义了标准文档的类型（标准模式解析）文档类型，会使浏览器使用相应的方式加载网页并显示，忽略DTD声明,将使网页</li>
<li>详细<a href="https://blog.csdn.net/xujie_0311/article/details/42044277" target="_blank" rel="noopener">https://blog.csdn.net/xujie_0311/article/details/42044277</a></li>
</ul>
</blockquote>
<h3 id="HTML-和-XHTML-有什么区别？"><a href="#HTML-和-XHTML-有什么区别？" class="headerlink" title="HTML 和 XHTML 有什么区别？"></a>HTML 和 XHTML 有什么区别？</h3><ul>
<li>实际上 W3C 下与网页（超文本）相关的标准有两个系列：HTML 系列和 XHTML 系列。<br>前者从 HTML 第一版一直发展到 HTML 4.x、HTML5，<br>而 XHTML 系列从 XHTML 1.0、1.1、2.0 跳跃到 HTML5 的一部分：所谓的“XHTML5”。<br>HTML 系列的工作重点在于丰富与超文本相关的功能、标记，提供较好的兼容性，更加面向“人”；<br>而 XHTML 系列的工作重点在于将 HTML 改为更加符合 XML 严格规范的格式，更加面向“机器”。</li>
</ul>
<p><strong>主要区别</strong></p>
<blockquote>
</blockquote>
<ul>
<li>XHTML 元素必须被正确地嵌套。</li>
<li>XHTML 元素必须被关闭。</li>
<li>标签名必须用小写字母。</li>
<li>XHTML 文档必须拥有根元素。</li>
</ul>
<h3 id="使用-data-属性的好处是什么？"><a href="#使用-data-属性的好处是什么？" class="headerlink" title="使用 data- 属性的好处是什么？"></a>使用 data- 属性的好处是什么？</h3><blockquote>
<ul>
<li>在JavaScript框架变得流行之前，前端开发者经常使用data-属性，把额外数据存储在 DOM 自身中。当时没有其他 Hack 手段（比如使用非标准属性或 DOM 上额外属性）。</li>
<li>这样做是为了将自定义数据存储到页面或应用中，对此没有其他更适当的属性或元素。</li>
<li>而现在，不鼓励使用data-属性。<br>原因之一是，用户可以通过在浏览器中利用检查元素，轻松地修改属性值，借此修改数据。数据模型最好存储在 JavaScript 本身中，并利用框架提供的数据绑定，使之与 DOM 保持更新。</li>
</ul>
</blockquote>
<h3 id="将HTML5看做开放的网络平台，它的基本构成条件是什么"><a href="#将HTML5看做开放的网络平台，它的基本构成条件是什么" class="headerlink" title="将HTML5看做开放的网络平台，它的基本构成条件是什么"></a>将HTML5看做开放的网络平台，它的基本构成条件是什么</h3><ul>
<li>语义-提供更准确的描述内容</li>
<li>连接-提供新的方式与服务器通信</li>
<li>离线和存储-允许网页在本地存储数据并有效地离线运行</li>
<li>多媒体-在Open Web中，视频和音频被视为一等公民</li>
<li>2D/3D图形和特效-提供更多更富有表现力的演示选项</li>
<li>性能和集成-提供更快的访问速度和性能更好的计算机硬件</li>
<li>设备访问-允许使用各种输入、输出设备</li>
<li>外观-可以开发丰富的主题</li>
</ul>
<h3 id="请描述cookie、sessionStorage和localStorage的却别"><a href="#请描述cookie、sessionStorage和localStorage的却别" class="headerlink" title="请描述cookie、sessionStorage和localStorage的却别"></a>请描述cookie、sessionStorage和localStorage的却别</h3><p>上面提到的技术名词，都是在客户端以键值对存储的存储机制，并且只能将值存储为字符串。</p>
<blockquote>
<ul>
<li>后两者都由客户端初始化，cookie也可以有服务器使用set—Cookie请求头初始化</li>
<li>cookie手动设置过期时间，session页面关闭时过期，local永不过期</li>
<li>Cookies会通过Cookie请求头自动发给服务器，而后两者不会</li>
<li>cookie容量为4KB，后两者都是5MB</li>
<li>cookie和local任一窗口都可访问，session仅在当前窗口</li>
</ul>
</blockquote>
<table>
<thead>
<tr>
<th></th>
<th><code>cookie</code></th>
<th><code>localStorage</code></th>
<th><code>sessionStorage</code></th>
</tr>
</thead>
<tbody>
<tr>
<td>由谁初始化</td>
<td>客户端或服务器，服务器可以使用<code>Set-Cookie</code>请求头。</td>
<td>客户端</td>
<td>客户端</td>
</tr>
<tr>
<td>过期时间</td>
<td>手动设置</td>
<td>永不过期</td>
<td>当前页面关闭时</td>
</tr>
<tr>
<td>在当前浏览器会话（browser sessions）中是否保持不变</td>
<td>取决于是否设置了过期时间</td>
<td>是</td>
<td>否</td>
</tr>
<tr>
<td>是否随着每个 HTTP 请求发送给服务器</td>
<td>是，Cookies 会通过<code>Cookie</code>请求头，自动发送给服务器</td>
<td>否</td>
<td>否</td>
</tr>
<tr>
<td>容量（每个域名）</td>
<td>4kb</td>
<td>5MB</td>
<td>5MB</td>
</tr>
<tr>
<td>访问权限</td>
<td>任意窗口</td>
<td>任意窗口</td>
<td>当前页面窗口</td>
</tr>
</tbody>
</table>
<h3 id="lt-script-gt-、-lt-script-async-gt-和-lt-script-defer-gt-的区别"><a href="#lt-script-gt-、-lt-script-async-gt-和-lt-script-defer-gt-的区别" class="headerlink" title="&lt;script&gt;、&lt;script async&gt;和&lt;script defer&gt;的区别?"></a>&lt;script&gt;、&lt;script async&gt;和&lt;script defer&gt;的区别?</h3><ul>
<li>script- HTML解析中断，脚本被提取并立即执行。执行解析后，HTML解析继续</li>
<li>script async - 脚本的提取、执行与HTML的解析并行，不会阻塞页面继续解析，脚本执行完毕可能在HTML解析完毕之前。<br>当脚本与页面上其他脚本独立式，可以使用async</li>
<li>script defer- 仅仅是脚本的提取和HTML解析并行，脚本执行将在HTML执行完解析完成后进行。<br>如果有多个含defer的脚本，脚本的执行顺序按照在document中出现的位置，从上到下顺序执行。</li>
</ul>
<h3 id="注意：没有src属性的脚本，async和defer属性会被忽略。"><a href="#注意：没有src属性的脚本，async和defer属性会被忽略。" class="headerlink" title="注意：没有src属性的脚本，async和defer属性会被忽略。"></a><strong>注意</strong>：没有src属性的脚本，async和defer属性会被忽略。</h3><h3 id="为什么最好把CSS的-lt-link-gt-标签放在-lt-head-gt-lt-head-gt-之间？"><a href="#为什么最好把CSS的-lt-link-gt-标签放在-lt-head-gt-lt-head-gt-之间？" class="headerlink" title="为什么最好把CSS的&lt;link&gt;标签放在&lt;head&gt;&lt;/head&gt;之间？"></a>为什么最好把CSS的&lt;link&gt;标签放在&lt;head&gt;&lt;/head&gt;之间？</h3><p>为什么最好把JS的&lt;script&gt;标签恰好放在&lt;/body&gt;之前，有例外情况吗?</p>
<h4 id="把-lt-link-gt-放在-lt-head-gt"><a href="#把-lt-link-gt-放在-lt-head-gt" class="headerlink" title="把&lt;link&gt;放在&lt;head&gt;;"></a><strong>把&lt;link&gt;放在&lt;head&gt;</strong>;</h4><ul>
<li>把<code>&lt;link&gt;</code>标签放在<code>&lt;head&gt;&lt;/head&gt;</code>之间是规范要求的内容<br>。此外，这种做法可以让页面逐步呈现，提高了用户体验。<br>将样式表放在文档底部附近，会使许多浏览器（包括 Internet Explorer）不能逐步呈现页面。<br>一些浏览器会阻止渲染，以避免在页面样式发生变化时，重新绘制页面中的元素。这种做法可以防止呈现给用户空白的页面或没有样式的内容。</li>
</ul>
<h4 id="把-lt-script-gt-标签恰好放在-lt-body-gt-之前"><a href="#把-lt-script-gt-标签恰好放在-lt-body-gt-之前" class="headerlink" title="把&lt;script&gt;标签恰好放在&lt;/body&gt;之前"></a><strong>把<code>&lt;script&gt;</code>标签恰好放在<code>&lt;/body&gt;</code>之前</strong></h4><ul>
<li>脚本在下载和执行期间会阻止HTML解析，把<code>&lt;script&gt;</code>标签放在底部，保证HTML首先解析完成，将页面呈现给用户。<br>同时，将<code>&lt;script&gt;</code>标签放在底部，意味着浏览器不能开始下载脚本，直到整个文档（document）被解析。也许，对此比较好的做法是，<code>&lt;script&gt;</code>使用<code>defer</code>属性，放在<code>&lt;head&gt;</code>中</li>
</ul>
<h3 id="什么是渐进式渲染"><a href="#什么是渐进式渲染" class="headerlink" title="什么是渐进式渲染"></a>什么是渐进式渲染</h3><ul>
<li>渐进式渲染是用于提高网页性能（尤其是提高用户感知的加载速度），以尽快呈现页面的技术<br>一些举例：</li>
</ul>
<ul>
<li>图片懒加载：——页面上的图片不会一次性全部加载。当用户滚动页面到图片部分时，JavaScript 将加载并显示图像。</li>
<li>确定显示内容的优先级（分层次渲染）——为了尽快将页面呈现给用户，页面只包含基本的最少量的 CSS、脚本和内容，然后可以使用延迟加载脚本或监听<code>DOMContentLoaded</code>/<code>load</code>事件加载其他资源和内容。</li>
<li>HTML异步加载： HTML 片段——当页面通过后台渲染时，把 HTML 拆分，通过异步请求，分块发送给浏览器。更多相关细节可以在。</li>
<li>框架中的路由懒加载，代码分离</li>
</ul>
<h3 id="HMTL5新标签"><a href="#HMTL5新标签" class="headerlink" title="HMTL5新标签"></a>HMTL5新标签</h3><ul>
<li><code>header</code>、<code>nav</code>、<code>section</code>、<code>footer</code>、<code>article</code>、<code>aside</code>、<code>hgroup</code>、figure<br>、audio、video、source、canvas、map、area、</li>
</ul>
<h3 id="为什么在-lt-img-gt-标签中使用srcset属性？请描述浏览器遇到该属性后的处理过程"><a href="#为什么在-lt-img-gt-标签中使用srcset属性？请描述浏览器遇到该属性后的处理过程" class="headerlink" title="为什么在&lt;img&gt;标签中使用srcset属性？请描述浏览器遇到该属性后的处理过程"></a>为什么在<code>&lt;img&gt;</code>标签中使用srcset属性？请描述浏览器遇到该属性后的处理过程</h3><ul>
<li><p>因为需要设计响应式图片。我们可以使用两个新的属性——srcset 和 sizes——来提供更多额外的资源图像和提示，帮助浏览器选择正确的一个资源。</p>
<p>srcset 定义了我们允许浏览器选择的图像集，以及每个图像的大小。</p>
<p>sizes 定义了一组媒体条件（例如屏幕宽度）并且指明当某些媒体条件为真时，什么样的图片尺寸是最佳选择</p>
<p>所以，有了这些属性，浏览器会</p>
<ol>
<li>查看设备宽度</li>
<li>检查size列表中哪个媒体条件威震</li>
<li>查看给予该媒体查询的槽大小</li>
<li>加载srcset列表中引用的最接近所选槽大小的图片</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;img srcset=&quot;elva-fairy-320w.jpg 320w,</span><br><span class="line">             elva-fairy-480w.jpg 480w,</span><br><span class="line">             elva-fairy-800w.jpg 800w&quot;</span><br><span class="line">     sizes=&quot;(max-width: 320px) 280px,</span><br><span class="line">            (max-width: 480px) 440px,</span><br><span class="line">            800px&quot;</span><br><span class="line">     src=&quot;elva-fairy-800w.jpg&quot; alt=&quot;Elva dressed as a fairy&quot;&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="你有过使用不同模版语言的经历吗？"><a href="#你有过使用不同模版语言的经历吗？" class="headerlink" title="你有过使用不同模版语言的经历吗？"></a>你有过使用不同模版语言的经历吗？</h3><ul>
<li>有过，比如 Pug （以前叫 Jade）、ejs 等等。<br>在我看来，这些模版语言大多是相似的，都提供了用于展示数据的内容替换和过滤器的功能。大部分模版引擎都支持自定义过滤器，以展示自定义格式的内容。</li>
</ul>
<h2 id="CSS问题"><a href="#CSS问题" class="headerlink" title="CSS问题"></a>CSS问题</h2><h3 id="CSS选择器的优先级如何计算？请问在确定样式的过程中优先级是如何决定的-请举例-？如何有效使用此系统？"><a href="#CSS选择器的优先级如何计算？请问在确定样式的过程中优先级是如何决定的-请举例-？如何有效使用此系统？" class="headerlink" title="CSS选择器的优先级如何计算？请问在确定样式的过程中优先级是如何决定的 (请举例)？如何有效使用此系统？"></a>CSS选择器的优先级如何计算？请问在确定样式的过程中优先级是如何决定的 (请举例)？如何有效使用此系统？</h3><h3 id="请问-“resetting”-和-“normalizing”-CSS-之间的区别？你会如何选择，为什么"><a href="#请问-“resetting”-和-“normalizing”-CSS-之间的区别？你会如何选择，为什么" class="headerlink" title="请问 “resetting” 和 “normalizing” CSS 之间的区别？你会如何选择，为什么"></a>请问 “resetting” 和 “normalizing” CSS 之间的区别？你会如何选择，为什么</h3><ul>
<li>重置（Resetting）： 重置意味着除去浏览器的所有默认样式。对于页面所有的元素，像margin、padding、font-size这些样式全部置成一样。你将必须重新定义各种元素的样式。</li>
<li>标准化：没有去掉所有的默认样式，保留了一部分有用的，还纠正了一些常见错误</li>
</ul>
<p>通常使用标准化就可以了<br>当需要实现非常个性化的网页设计时，我会选择重置的方式，因为我要写很多自定义的样式以满足设计需求，这时候就不再需要标准化的默认样式了。</p>
<h3 id="请阐述Float定位的工作原理。"><a href="#请阐述Float定位的工作原理。" class="headerlink" title="请阐述Float定位的工作原理。"></a>请阐述Float定位的工作原理。</h3><ul>
<li>浮动元素从网页的正常流动中移出，但保留了部分的流动性，会影响其他元素的定位（比如文字会围绕着浮动元素）。这一点与绝对定位不同，绝对定位的元素完全从文档流脱离</li>
<li>如果浮动元素的父元素只包含浮动元素，那么该父元素的高度会坍塌为0，我们可以通过清除（clear）从浮动元素后到父元素关闭前之间的浮动来修复这个问题(clear: both | left | right)</li>
<li>把浮动元素的父元素属性设置为overflow: auto或overflow: hidden,会使其内部子元素形成BFC，并且父元素会扩张自己，使其能够包围它的子元素</li>
</ul>
<h3 id="请阐述z-index，并说明如何形成层叠上下文，（stacking-context）"><a href="#请阐述z-index，并说明如何形成层叠上下文，（stacking-context）" class="headerlink" title="请阐述z-index，并说明如何形成层叠上下文，（stacking context）"></a>请阐述z-index，并说明如何形成层叠上下文，（stacking context）</h3><ul>
<li>z-index属性控制元素的层级（重叠元素的垂直叠加顺序），只能作用于position值不为static的元素</li>
<li>未定义z-index时，按照元素在DOM中出现的先后顺序叠加</li>
<li>非静态元素及其子元素将始终覆盖静态(static)定位元素之上</li>
<li>在一组层叠上下文(即包含多个图层的元素)，其子元素的z-index值是相对于该父元素而不是根节点元素，</li>
<li>如果元素 B 位于元素 A 之上（兄弟关系），即使元素 A 的子元素 C 具有比元素 B 更高的z-index值，元素 C 仍然在B之下</li>
</ul>
<p>详情：<a href="http://www.zhangxinxu.com/wordpress/2016/01/understand-css-stacking-context-order-z-index/" target="_blank" rel="noopener">http://www.zhangxinxu.com/wordpress/2016/01/understand-css-stacking-context-order-z-index/</a></p>
<h3 id="请阐述BFC（Block-Formatting-Context）及其工作原理"><a href="#请阐述BFC（Block-Formatting-Context）及其工作原理" class="headerlink" title="请阐述BFC（Block Formatting Context）及其工作原理"></a>请阐述BFC（Block Formatting Context）及其工作原理</h3><p>创建BFC的条件（只要元素满足下面任一条件即可触发 BFC）</p>
<ul>
<li>浮动元素：float不是none,（left | right | inherit)</li>
<li>绝对定位元素:position（absolute，fixed）</li>
<li>display 为以下其中之一的值:table-cells、table-caption、inline-block、flex、或inline-flex。</li>
<li>overflow不是visible：（hidden，auto，scroll）</li>
</ul>
<p>作用</p>
<ul>
<li>包含浮动元素，避免父元素塌陷</li>
<li>兄弟元素不被浮动元素遮盖（两列布局，左侧定宽，右侧自适应）<br>— 阻止外边距合并：margin塌陷问题，在标准文档流中，块级相邻元素之间竖直方向的margin会以大的为准<br>参考</li>
<li><a href="https://blog.csdn.net/jiaojsun/article/details/76408215" target="_blank" rel="noopener">https://blog.csdn.net/jiaojsun/article/details/76408215</a></li>
<li><a href="http://www.cnblogs.com/lhb25/p/inside-block-formatting-ontext.html" target="_blank" rel="noopener">http://www.cnblogs.com/lhb25/p/inside-block-formatting-ontext.html</a></li>
</ul>
<h3 id="有哪些清除浮动的技术，都适用哪些情况？"><a href="#有哪些清除浮动的技术，都适用哪些情况？" class="headerlink" title="有哪些清除浮动的技术，都适用哪些情况？"></a>有哪些清除浮动的技术，都适用哪些情况？</h3><ul>
<li>添加一个空div作为兄弟：<code>&lt;div style=&quot;clear: both;&quot;/&gt;</code></li>
<li>Clearfix方法,伪元素选择器<code>::after</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.clearfix::after &#123;</span><br><span class="line">   content: &apos;&apos;,</span><br><span class="line">   display: block;</span><br><span class="line">   clear: both;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>父级元素设置overflow:hidden | auto</li>
</ul>
<blockquote>
<p>大型项目中一般使用第二种，当子元素高度大于父元素时，设置overflow:hidden可能使其子元素显示不完整</p>
</blockquote>
<h3 id="请解释什么是雪碧图-css-sprites-以及如何实现"><a href="#请解释什么是雪碧图-css-sprites-以及如何实现" class="headerlink" title="请解释什么是雪碧图(css sprites),以及如何实现"></a>请解释什么是雪碧图(css sprites),以及如何实现</h3><p>雪碧图是把多张图片整合到一张图片上。他被运用在众多使用了很小图标的网站上。实现方式：</p>
<ul>
<li>使用生成器将多张图片打包成一张雪碧图，并为其生成合适的CSS</li>
<li>每张图片都有相应的CSS类，该类定义了background-image、background-position、和background-size属性</li>
<li>使用图片时，将相应的类添加到你的元素中</li>
</ul>
<p>好处：</p>
<ul>
<li>减少请求多张图片的HTTP请求数（一张雪碧图只需一个请求）。对于HTTP2而言，加载多张图片不再是问题</li>
<li>提前家在资源，防止在需要时才开始下载引发的问题，比如只出现在:hover伪类中的图片，不会出现闪烁</li>
</ul>
<p>生成器：<a href="https://www.toptal.com/developers/css/sprite-generator" target="_blank" rel="noopener">https://www.toptal.com/developers/css/sprite-generator</a></p>
<h3 id="你最喜欢的图片替换方法是什么，你如何选择使用。"><a href="#你最喜欢的图片替换方法是什么，你如何选择使用。" class="headerlink" title="你最喜欢的图片替换方法是什么，你如何选择使用。"></a>你最喜欢的图片替换方法是什么，你如何选择使用。</h3><h3 id="如何解决不同通过浏览器样式兼容性问题"><a href="#如何解决不同通过浏览器样式兼容性问题" class="headerlink" title="如何解决不同通过浏览器样式兼容性问题"></a>如何解决不同通过浏览器样式兼容性问题</h3><ul>
<li>使用autoprefixer自动生成css属性前缀</li>
<li>直接兼容不同浏览器的CSS库，如Bootstrap</li>
<li>使用reset CSS 或者normalize.css</li>
<li>在确定问题原因和有问题的浏览器后，使用单独的样式表，仅供出现问题的浏览器加载。这种方法需要使用服务器端渲染。</li>
</ul>
<h3 id="如何为有功能限制的浏览器提供网页？使用什么样的技术和流程？"><a href="#如何为有功能限制的浏览器提供网页？使用什么样的技术和流程？" class="headerlink" title="如何为有功能限制的浏览器提供网页？使用什么样的技术和流程？"></a>如何为有功能限制的浏览器提供网页？使用什么样的技术和流程？</h3><ul>
<li>优雅降级：为现代浏览器构建应用，同时确保它在旧版本浏览器中正常运行</li>
<li>渐进增强：构建基于用户体验的应用，但在浏览器支持时添加新增功能</li>
<li>利用<a href="https://caniuse.com/" target="_blank" rel="noopener">caniuse.com</a>检查特性支持；</li>
<li>使用<a href="https://modernizr.com/" target="_blank" rel="noopener">Modernizr</a>进行特性检测</li>
<li>使用autoprefixer解决css的兼容性</li>
</ul>
<h3 id="有哪些的隐藏内容的方法-如果同时还要保证屏幕阅读器可用呢-？"><a href="#有哪些的隐藏内容的方法-如果同时还要保证屏幕阅读器可用呢-？" class="headerlink" title="有哪些的隐藏内容的方法 (如果同时还要保证屏幕阅读器可用呢)？"></a>有哪些的隐藏内容的方法 (如果同时还要保证屏幕阅读器可用呢)？</h3><ul>
<li><code>visibility: hidden</code>: 元素仍在页面流中，并占用空间</li>
<li><code>width: 0; height: 0</code>: 使元素不占用空间，导致不显示它</li>
<li><code>position: absolute; left: -99999px</code>: 将它置于屏幕之外</li>
<li><code>text-indent: -9999px</code>: 这是适用于block元素中的文本</li>
<li>Metadata：</li>
<li>WAI-ARIA：</li>
</ul>
<h3 id="你使用过栅格系统吗？偏爱哪一个？"><a href="#你使用过栅格系统吗？偏爱哪一个？" class="headerlink" title="你使用过栅格系统吗？偏爱哪一个？"></a>你使用过栅格系统吗？偏爱哪一个？</h3><ul>
<li>使用过antd和bootstrap的栅格系统，看项目需求和使用的库</li>
</ul>
<h3 id="你是否使用过媒体查询或移动优先的布局？"><a href="#你是否使用过媒体查询或移动优先的布局？" class="headerlink" title="你是否使用过媒体查询或移动优先的布局？"></a>你是否使用过媒体查询或移动优先的布局？</h3><ul>
<li>根据屏幕的尺寸改变导航栏的样式</li>
</ul>
<h3 id="你熟悉-SVG-样式的书写吗？"><a href="#你熟悉-SVG-样式的书写吗？" class="headerlink" title="你熟悉 SVG 样式的书写吗？"></a>你熟悉 SVG 样式的书写吗？</h3><h3 id="如何优化网页的打印样式？"><a href="#如何优化网页的打印样式？" class="headerlink" title="如何优化网页的打印样式？"></a>如何优化网页的打印样式？</h3><ul>
<li><p>分开屏幕显示与打印的样式</p>
<p><code>&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;screen&quot; href=&quot;/css/styles.css&quot; /&gt;</code></p>
<p><code>&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;print&quot; href=&quot;/css/print.css&quot; /&gt;</code></p>
</li>
<li>设计一份打印样式表<br>i. 用点单位(pt)指定大小<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">body &#123;</span><br><span class="line"></span><br><span class="line">  font-family: &quot;Times New Roman&quot;, serif;</span><br><span class="line"></span><br><span class="line">  font-size: 12pt;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>实在太简单了,比起用像素单位来说,这个应该更能想象12点字体会印多大,同时我们也选用serif字体,这种字体打印出来比较细致,而且比较容易阅读.<br>ii. 隐藏不必要的标签节省墨水<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">body &#123;</span><br><span class="line"></span><br><span class="line">  font-family: &quot;Times New Roman&quot;, serif;</span><br><span class="line"></span><br><span class="line">  font-size: 12pt;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">#nav, #sidebar, #advertising, #search &#123;</span><br><span class="line"></span><br><span class="line">  display: none;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></p>
<p>iii. 去掉背景图片和颜色<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">body &#123;</span><br><span class="line"></span><br><span class="line">   background: none;</span><br><span class="line"></span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="除了screen，你还能说出一个-media-属性的例子吗？"><a href="#除了screen，你还能说出一个-media-属性的例子吗？" class="headerlink" title="除了screen，你还能说出一个 @media 属性的例子吗？"></a>除了screen，你还能说出一个 @media 属性的例子吗？</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">@import url(&quot;screenstyles.css&quot;) screen;</span><br><span class="line"> @media print &#123;</span><br><span class="line">     /* 打印时使用的样式放置在此 *</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="在书写高效-CSS-时会有哪些问题需要考虑？"><a href="#在书写高效-CSS-时会有哪些问题需要考虑？" class="headerlink" title="在书写高效 CSS 时会有哪些问题需要考虑？"></a>在书写高效 CSS 时会有哪些问题需要考虑？</h3><ul>
<li>避免使用标签和通用选择器作为关键选择器，因为它们会匹配大量的元素，浏览器必须要进行大量的工作，去判断这些元素的父元素们是否匹配。</li>
<li>原则上建议为独立的样式使用 CSS 类命名，并且在需要层级关系时，将关系也体现在命名中，这自然会使选择器高效且易于覆盖。</li>
<li>搞清楚哪些 CSS 属性会触发重新布局（reflow）、重绘（repaint）和合成（compositing）。在写样式时，避免触发重新布局的可能。</li>
</ul>
<h3 id="用-CSS-预处理的优缺点分别是什么？请描述你曾经使用过的-CSS-预处理器的优缺点。"><a href="#用-CSS-预处理的优缺点分别是什么？请描述你曾经使用过的-CSS-预处理器的优缺点。" class="headerlink" title="用 CSS 预处理的优缺点分别是什么？请描述你曾经使用过的 CSS 预处理器的优缺点。"></a>用 CSS 预处理的优缺点分别是什么？请描述你曾经使用过的 CSS 预处理器的优缺点。</h3><p>优点：</p>
<ul>
<li>提高CSS可维护性</li>
<li>易于编写嵌套选择器</li>
<li>引入变量，增加主题功能，可在不同项目中共享主题文件<br>缺点：</li>
<li>需要预处理工具</li>
<li>重新编译的时间可能会很慢</li>
</ul>
<p>sass的优缺点<br>通过node-sass使用sass，它用 C ++ 编写的 LibSass 绑定，在Node版本切换时，必须重新编译<br>less用javascript编写，与NodeJS高度结合</p>
<h3 id="如果设计中使用了非标准的字体，你该如何去实现？"><a href="#如果设计中使用了非标准的字体，你该如何去实现？" class="headerlink" title="如果设计中使用了非标准的字体，你该如何去实现？"></a>如果设计中使用了非标准的字体，你该如何去实现？</h3><ul>
<li>使用@font-face并为不同的font-weight定义font-family</li>
</ul>
<h3 id="请解释浏览器是如何判断元素是否匹配某个CSS选择器"><a href="#请解释浏览器是如何判断元素是否匹配某个CSS选择器" class="headerlink" title="请解释浏览器是如何判断元素是否匹配某个CSS选择器"></a>请解释浏览器是如何判断元素是否匹配某个CSS选择器</h3><ul>
<li>浏览器从最右边的选择器（关键选择器）开始，从 DOM 中筛选出元素，然后向上遍历被选元素的父元素，判断是否匹配。选择器匹配语句链越短，浏览器的匹配速度越快。</li>
<li>浏览器先产生一个元素集合，这个集合往往由最后一个部分的索引产生（如果没有索引就是所有的元素集合）。<br>然后向上匹配，如果不符合上一个部分，就把元素从集合中删除，知道整个选择器匹配完，还在集合中的元素就匹配这个选择器了</li>
</ul>
<h3 id="请描述伪元素及其用途。"><a href="#请描述伪元素及其用途。" class="headerlink" title="请描述伪元素及其用途。"></a>请描述伪元素及其用途。</h3><ul>
<li>CSS伪元素是添加到选择器的关键字，去选择元素的特定部分。它们可用于装饰(:first-line, :first-letter)或将元素添加到标记中(与content:…)组合，而不必修改标记（：before，：after）</li>
</ul>
<h3 id="说说你对盒模型的理解，以及如何告知浏览器使用不同的盒模型渲染布局。"><a href="#说说你对盒模型的理解，以及如何告知浏览器使用不同的盒模型渲染布局。" class="headerlink" title="说说你对盒模型的理解，以及如何告知浏览器使用不同的盒模型渲染布局。"></a>说说你对盒模型的理解，以及如何告知浏览器使用不同的盒模型渲染布局。</h3><h3 id="请解释-box-sizing-border-box-的作用-并且说明使用它有什么好处？"><a href="#请解释-box-sizing-border-box-的作用-并且说明使用它有什么好处？" class="headerlink" title="请解释 * { box-sizing: border-box; } 的作用, 并且说明使用它有什么好处？"></a>请解释 * { box-sizing: border-box; } 的作用, 并且说明使用它有什么好处？</h3><ul>
<li>元素默认box-sizing: content-box,元素的宽高width和height只会取决于内容(content)的大小</li>
<li>border-box改变计算元素width和height的方式，border和padding的大小也会计算在内</li>
</ul>
<h3 id="display的属性值有哪些？"><a href="#display的属性值有哪些？" class="headerlink" title="display的属性值有哪些？"></a>display的属性值有哪些？</h3><ul>
<li>none, block, inline, inline-block, table, table-row, table-cell, list-item, flex</li>
</ul>
<h3 id="请解释-inline-和-inline-block-的区别？"><a href="#请解释-inline-和-inline-block-的区别？" class="headerlink" title="请解释 inline 和 inline-block 的区别？"></a>请解释 inline 和 inline-block 的区别？</h3><table>
<thead>
<tr>
<th></th>
<th>block</th>
<th>inline-block</th>
<th>inline</th>
</tr>
</thead>
<tbody>
<tr>
<td>大小</td>
<td>填充父容器的宽度</td>
<td>取决于内容</td>
<td>取决于内容</td>
</tr>
<tr>
<td>定位</td>
<td>从新的一行开始，并且不允许旁观有HTML元素(除非是float)</td>
<td>与其他内容一起流动</td>
<td>与其他内容一起流动</td>
</tr>
<tr>
<td>能否设置width和height</td>
<td>能</td>
<td>能</td>
<td>不能</td>
</tr>
<tr>
<td>能否使用vertical-align对齐</td>
<td>不可以</td>
<td>可以</td>
<td>可以</td>
</tr>
<tr>
<td>边距和填充</td>
<td>各个方向都存在</td>
<td>各个方向都存在</td>
<td>只有水平方向存在。尽管border和padding在content周围，垂直方向上的空间取决于line-height</td>
</tr>
</tbody>
</table>
<h3 id="relative、fixed、absolute、和static四种定位有什么区别？"><a href="#relative、fixed、absolute、和static四种定位有什么区别？" class="headerlink" title="relative、fixed、absolute、和static四种定位有什么区别？"></a>relative、fixed、absolute、和static四种定位有什么区别？</h3><ul>
<li>static: 默认定位属性值。指定元素使用正常的布局行为，此时给top，right，bottom，left，z-index属性设置值无效</li>
<li>relative: 参照物为元素原来所处文档流中的位置</li>
<li>absolute: 不为元素预留空间，参照物为该元素最近的非static祖先元素</li>
<li>fixed: 不为元素预留空间，参照物为屏幕视口(viewport)，即使页面滚动时也不改变<br>fixed属性会创建新的层叠上下文，当元素祖先的transform属性非none时，容器由视口改为该祖先</li>
<li>sticky:</li>
</ul>
<h3 id="你使用过哪些现有的-CSS-框架？你是如何改进它们的？"><a href="#你使用过哪些现有的-CSS-框架？你是如何改进它们的？" class="headerlink" title="你使用过哪些现有的 CSS 框架？你是如何改进它们的？"></a>你使用过哪些现有的 CSS 框架？你是如何改进它们的？</h3><ul>
<li>Blueprint是比较早的基于静态CSS的框架</li>
<li>Bootstrap是基于less的框架。模块化的框架你要修改起来也是很方便的，基本上修改变量就可以了。</li>
</ul>
<h3 id="你了解-CSS-Flexbox-和-Grid-吗？"><a href="#你了解-CSS-Flexbox-和-Grid-吗？" class="headerlink" title="你了解 CSS Flexbox 和 Grid 吗？"></a>你了解 CSS Flexbox 和 Grid 吗？</h3><ul>
<li>Flexbox 解决了 CSS 中的许多常见问题，例如容器中元素的垂直居中，粘性定位（sticky）的页脚等。<br>Bootstrap 和 Bulma 基于 Flexbox，这是创建布局的推荐方式。</li>
<li>Grid 创建基于栅格的布局，是迄今为止最直观的方法（最好是！），但目前浏览器支持并不广泛。</li>
</ul>
<h3 id="为什么响应式设计-responsive-design-和自适应设计-adaptive-design-不同？"><a href="#为什么响应式设计-responsive-design-和自适应设计-adaptive-design-不同？" class="headerlink" title="为什么响应式设计 (responsive design) 和自适应设计 (adaptive design) 不同？"></a>为什么响应式设计 (responsive design) 和自适应设计 (adaptive design) 不同？</h3><ul>
<li>响应式的概念覆盖了自适应，而且涵盖的内容更多。<br>参考<a href="https://blog.csdn.net/zhi_miss/article/details/50755712" target="_blank" rel="noopener">https://blog.csdn.net/zhi_miss/article/details/50755712</a></li>
</ul>
<h3 id="你有没有使用过视网膜分辨率的图形？当中使用什么技术？"><a href="#你有没有使用过视网膜分辨率的图形？当中使用什么技术？" class="headerlink" title="你有没有使用过视网膜分辨率的图形？当中使用什么技术？"></a>你有没有使用过视网膜分辨率的图形？当中使用什么技术？</h3><p>— 使用更高分辨率的图形（显示尺寸的两倍）来处理视网膜显示。<br>更好的方法是使用媒体查询，像@media only screen and (min-device-pixel-ratio: 2) { … }，然后改变background-image。</p>
<ul>
<li>对于图标类的图形，可能使用 svg 和图标字体，因为它们在任何分辨率下，都能被渲染得十分清晰。</li>
<li>响应式图片。通过设置img标签的srcset， sizes属性</li>
</ul>
<h3 id="什么情况下，用translate-而不用绝对定位？什么时候，情况相反"><a href="#什么情况下，用translate-而不用绝对定位？什么时候，情况相反" class="headerlink" title="什么情况下，用translate()而不用绝对定位？什么时候，情况相反,"></a>什么情况下，用translate()而不用绝对定位？什么时候，情况相反,</h3><ul>
<li>使用绝对定位、相对定位属性加上 top、left ，会影响offsetTop和 offsetLeft （元素相对于父级参照物的偏移距离）的值；使用translate(),offsetTop和 offsetLeft 的值都是固定不变的。</li>
</ul>
<h3 id="如果实现一个高性能的CSS动画效果？"><a href="#如果实现一个高性能的CSS动画效果？" class="headerlink" title="如果实现一个高性能的CSS动画效果？"></a>如果实现一个高性能的CSS动画效果？</h3><ul>
<li>参考<a href="http://www.fly63.com/article/detial/106" target="_blank" rel="noopener">http://www.fly63.com/article/detial/106</a></li>
</ul>
<h3 id="CSS3动画"><a href="#CSS3动画" class="headerlink" title="CSS3动画"></a>CSS3动画</h3><ul>
<li>transition动画</li>
<li>帧动画,用animate属性</li>
</ul>
<h3 id="哪些方式实现垂直居中和水平居中"><a href="#哪些方式实现垂直居中和水平居中" class="headerlink" title="哪些方式实现垂直居中和水平居中"></a>哪些方式实现垂直居中和水平居中</h3><ul>
<li>参考<a href="https://www.zhihu.com/question/20543196" target="_blank" rel="noopener">https://www.zhihu.com/question/20543196</a></li>
</ul>
<h3 id="实现圣杯布局，双飞翼布局"><a href="#实现圣杯布局，双飞翼布局" class="headerlink" title="实现圣杯布局，双飞翼布局"></a>实现圣杯布局，双飞翼布局</h3><ul>
<li>双飞翼是通过中间box新建子元素并设置外边距隔离各列<br>圣杯布局是通过设置父容器的内边距来隔离各列</li>
</ul>
<h2 id="Javascript"><a href="#Javascript" class="headerlink" title="Javascript"></a>Javascript</h2><h2 id="React"><a href="#React" class="headerlink" title="React"></a>React</h2><h3 id="虚拟DOM是啥？以及diff算法原理"><a href="#虚拟DOM是啥？以及diff算法原理" class="headerlink" title="虚拟DOM是啥？以及diff算法原理"></a>虚拟DOM是啥？以及diff算法原理</h3><h2 id="性能"><a href="#性能" class="headerlink" title="性能"></a>性能</h2><h3 id="你会用什么工具来查找代码中的性能问题？"><a href="#你会用什么工具来查找代码中的性能问题？" class="headerlink" title="你会用什么工具来查找代码中的性能问题？"></a>你会用什么工具来查找代码中的性能问题？</h3><ul>
<li>Page Speed</li>
</ul>
<h2 id="其他问题"><a href="#其他问题" class="headerlink" title="其他问题"></a>其他问题</h2><h3 id="常见排序算法：冒泡，快排，插入排序"><a href="#常见排序算法：冒泡，快排，插入排序" class="headerlink" title="常见排序算法：冒泡，快排，插入排序"></a>常见排序算法：冒泡，快排，插入排序</h3><h3 id="二分查找：递归和非递归"><a href="#二分查找：递归和非递归" class="headerlink" title="二分查找：递归和非递归"></a>二分查找：递归和非递归</h3><h3 id="数组去重"><a href="#数组去重" class="headerlink" title="数组去重"></a>数组去重</h3><h3 id="babel原理"><a href="#babel原理" class="headerlink" title="babel原理"></a>babel原理</h3><h3 id="实现一个幻灯片功能"><a href="#实现一个幻灯片功能" class="headerlink" title="实现一个幻灯片功能"></a>实现一个幻灯片功能</h3><h3 id="你最近遇到过什么技术挑战？你是如何解决的？-1"><a href="#你最近遇到过什么技术挑战？你是如何解决的？-1" class="headerlink" title="你最近遇到过什么技术挑战？你是如何解决的？"></a>你最近遇到过什么技术挑战？你是如何解决的？</h3><h3 id="浏览器输入网址后做了什么？"><a href="#浏览器输入网址后做了什么？" class="headerlink" title="浏览器输入网址后做了什么？"></a>浏览器输入网址后做了什么？</h3><h2 id="项目"><a href="#项目" class="headerlink" title="项目"></a>项目</h2><h3 id="Echarts组件封装深入，CMDB模块代码优化"><a href="#Echarts组件封装深入，CMDB模块代码优化" class="headerlink" title="Echarts组件封装深入，CMDB模块代码优化"></a>Echarts组件封装深入，CMDB模块代码优化</h3><h3 id="Tree组件结合权限生成树"><a href="#Tree组件结合权限生成树" class="headerlink" title="Tree组件结合权限生成树"></a>Tree组件结合权限生成树</h3><h3 id="整体代码优化"><a href="#整体代码优化" class="headerlink" title="整体代码优化"></a>整体代码优化</h3><h3 id="网页性能优化手段"><a href="#网页性能优化手段" class="headerlink" title="网页性能优化手段"></a>网页性能优化手段</h3><ul>
<li>利用浏览器缓存，设置ETag和expire；nginx配置gzip on并且排除图片类型</li>
<li>减少首屏渲染时间：减少请求数量和减小请求资源的体积</li>
<li>利用webpack对资源打包压缩：压缩html，分离css并压缩，压缩JS</li>
<li>图片资源优化：1. 使用雪碧图， 2. 不要再HTML中缩放图片 3.使用字体图片，iconfont</li>
<li>网络传输性能检测工具——Page Speed</li>
<li>使用CDN，CDN域名与主站域名不同</li>
<li>页面渲染性能优化：浏览器渲染过程，渲染引擎和JS引擎，DOM渲染层与GPU硬件加速，</li>
<li>重绘与重排：重绘布局不变，效果改变；重排，元素尺寸改变引起布局改变，重排必定引发重绘，尽量避免引发重排</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/05/05/Koa2取代webpack-dev-server作为开发环境服务器/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Gaye Cheng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/05/Koa2取代webpack-dev-server作为开发环境服务器/" itemprop="url">Koa2取代webpack-dev-server作为开发环境服务器</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-05-05T21:08:40+08:00">
                2018-05-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Node-js/" itemprop="url" rel="index">
                    <span itemprop="name">Node.js</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/05/05/Koa2取代webpack-dev-server作为开发环境服务器/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/05/05/Koa2取代webpack-dev-server作为开发环境服务器/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2018/05/05/Koa2取代webpack-dev-server作为开发环境服务器/" class="leancloud_visitors" data-flag-title="Koa2取代webpack-dev-server作为开发环境服务器">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h6 id="安装相关依赖"><a href="#安装相关依赖" class="headerlink" title="安装相关依赖"></a>安装相关依赖</h6><pre><code>yarn add koa koa-static koa-convert koa-webpack-middleware -D
</code></pre><ul>
<li>koa-convert: 由于koa2中使用async await异步中间件，而koa-webpack-middleware仍然是generator函数，需要用koa-convert转换下</li>
</ul>
<h6 id="sever-js"><a href="#sever-js" class="headerlink" title="sever.js"></a>sever.js</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">const Koa = require(&apos;koa&apos;)</span><br><span class="line">const webpack = require(&apos;webpack&apos;)</span><br><span class="line">const serve = require(&apos;koa-static&apos;)</span><br><span class="line">const convert  = require(&apos;koa-convert&apos;)</span><br><span class="line">const koaWebpackMiddleware = require(&apos;koa-webpack-middleware&apos;)</span><br><span class="line">const webpackDevMiddleware = koaWebpackMiddleware.devMiddleware</span><br><span class="line">const webpackHotMiddleware = koaWebpackMiddleware.hotMiddleware</span><br><span class="line"></span><br><span class="line">const app = new Koa()</span><br><span class="line">const config = require(&apos;./webpack.config&apos;)</span><br><span class="line">const compiler = webpack(config)</span><br><span class="line"></span><br><span class="line">const wdm = webpackDevMiddleware(compiler, &#123;</span><br><span class="line">  watchOptions: &#123;</span><br><span class="line">    aggregateTimeout: 300,</span><br><span class="line">    poll: true</span><br><span class="line">  &#125;,</span><br><span class="line">  reload: true,</span><br><span class="line">  publicPath: config.output.publicPath,</span><br><span class="line">  stats: &#123;</span><br><span class="line">    colors: true</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">app.use(convert(wdm))</span><br><span class="line"></span><br><span class="line">app.use(convert(webpackHotMiddleware(compiler)))</span><br><span class="line"></span><br><span class="line">app.use(serve(config.output.publicPath))</span><br><span class="line"></span><br><span class="line">const server = app.listen(3000, &apos;localhost&apos;, function (err) &#123;</span><br><span class="line">  if (err) &#123;</span><br><span class="line">    console.error(err)</span><br><span class="line">    return</span><br><span class="line">  &#125;</span><br><span class="line">  console.log(&apos;Example app listening on port 3000!\n&apos;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/27/在Mac上编译V8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Gaye Cheng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/27/在Mac上编译V8/" itemprop="url">在Mac上编译V8</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-04-27T10:07:28+08:00">
                2018-04-27
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/04/27/在Mac上编译V8/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/04/27/在Mac上编译V8/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2018/04/27/在Mac上编译V8/" class="leancloud_visitors" data-flag-title="在Mac上编译V8">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Mac-OS-X上编译V8"><a href="#Mac-OS-X上编译V8" class="headerlink" title="Mac OS X上编译V8"></a>Mac OS X上编译V8</h2><h4 id="安装depot-tools"><a href="#安装depot-tools" class="headerlink" title="安装depot_tools"></a>安装depot_tools</h4><ul>
<li><p>克隆仓库</p>
<p>  git clone <a href="https://chromium.googlesource.com/chromium/tools/depot_tools.git`" target="_blank" rel="noopener">https://chromium.googlesource.com/chromium/tools/depot_tools.git`</a></p>
</li>
<li><p>追加环境变量</p>
<p>  在~/.bashrc或者~/.zshrc里面加上这一句（假设你下载的depot_tool位于路径/path/to/depot_tools）<br>  export PATH=$PATH:/path/to/depot_tools</p>
<h4 id="下载V8"><a href="#下载V8" class="headerlink" title="下载V8"></a>下载V8</h4></li>
<li>确保depot是最新版<br>  client</li>
<li><p>下载v8<br>  fetch v8</p>
</li>
<li><p>创建本地新分支</p>
<p> git new-branch mywork</p>
</li>
<li><p>git pull 更新V8</p>
</li>
<li><p>gclient sync 更新依赖</p>
</li>
</ul>
<h4 id="编译"><a href="#编译" class="headerlink" title="编译"></a>编译</h4>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/26/webpack4不完全升级指南/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Gaye Cheng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/26/webpack4不完全升级指南/" itemprop="url">webpack4不完全升级指南</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-04-26T10:20:10+08:00">
                2018-04-26
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Webpack/" itemprop="url" rel="index">
                    <span itemprop="name">Webpack</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/04/26/webpack4不完全升级指南/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/04/26/webpack4不完全升级指南/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2018/04/26/webpack4不完全升级指南/" class="leancloud_visitors" data-flag-title="webpack4不完全升级指南">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="react-family升级webpack4"><a href="#react-family升级webpack4" class="headerlink" title="react-family升级webpack4"></a>react-family升级webpack4</h2><h3 id="依赖"><a href="#依赖" class="headerlink" title="依赖"></a>依赖</h3><h5 id="重新安装webpack相关依赖包"><a href="#重新安装webpack相关依赖包" class="headerlink" title="重新安装webpack相关依赖包"></a>重新安装webpack相关依赖包</h5><ul>
<li>webpack</li>
<li>新增加webpack-cli</li>
<li>html-webpack-plugin</li>
<li>webpack-dev-server</li>
<li>各种loader,主要是file-loader,url-loader，其他看着办</li>
</ul>
<h5 id="移除"><a href="#移除" class="headerlink" title="移除"></a>移除</h5><ul>
<li>uglifyjs-webpack-plugin: production莫斯自动支持<br>-</li>
</ul>
<h3 id="配置改动"><a href="#配置改动" class="headerlink" title="配置改动"></a>配置改动</h3><h5 id="CommonsChunkPlugin"><a href="#CommonsChunkPlugin" class="headerlink" title="CommonsChunkPlugin"></a>CommonsChunkPlugin</h5><p> 移除<br> <figure class="highlight plain"><figcaption><span>webpack.config.optimization.splitChunks(&#123;</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">  name: &apos;vendor&apos;</span><br><span class="line">&#125;),</span><br></pre></td></tr></table></figure></p>
<p> 修改为<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">optimization: &#123;</span><br><span class="line">       runtimeChunk: true,</span><br><span class="line">       splitChunks:&#123;</span><br><span class="line">           chunks: &apos;all&apos;,</span><br><span class="line">           minSize: 30000,</span><br><span class="line">           minChunks: 1,</span><br><span class="line">           maxAsyncRequests: 5,</span><br><span class="line">           maxInitialRequests: 3,</span><br><span class="line">           name: false,</span><br><span class="line">           cacheGroups: &#123;</span><br><span class="line">               vendor: &#123;</span><br><span class="line">                   name: &apos;vendor&apos;,</span><br><span class="line">                   chunks: &apos;initial&apos;,</span><br><span class="line">                   priority: -10,</span><br><span class="line">                   reuseExistingChunk: false,</span><br><span class="line">                   test: /node_modules\/(.*)\.js/</span><br><span class="line">               &#125;,</span><br><span class="line">               default: &#123;</span><br><span class="line">                   minChunks: 2,</span><br><span class="line">                   priority: -20,</span><br><span class="line">                   reuseExistingChunk: true</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></p>
<h5 id="mode"><a href="#mode" class="headerlink" title="mode"></a>mode</h5><blockquote>
<p>生产环境默认开启了很多代码优化（minify，splite等）<br>开发时开启注视和验证，并且自动加上了eval devtool<br>生产环境不支持watching，开发环境优化了重新打包的速度<br>自动设置process.env.NODE_ENV到不同环境，也就是不需要DefinePlugin来做这个了<br>如果你给mode设置为none，所有默认配置都去掉了</p>
</blockquote>
<ul>
<li><p>方式1: 启动命令后加入参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">   &quot;dev&quot;: &quot;webpack --mode development&quot;,</span><br><span class="line">   &quot;build&quot;: &quot;webpack --mode production&quot;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>方式2: 配置文件中加入mode属性</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">  mode: &apos;production&apos; // development</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>development模式下</p>
<blockquote>
<p>浏览器调试工具<br>开发阶段的详细错误日志和提示<br>快速和优化的增量构建机制</p>
</blockquote>
</li>
<li><p>production模式下</p>
<blockquote>
<p>开启所有的优化代码<br>更小的bundle大小<br>去除掉只在开发阶段运行的代码<br>Scope hoisting和Tree-shaking<br>自动启用uglifyjs对代码进行压缩</p>
</blockquote>
</li>
</ul>
<h5 id="ExtractTextWebpackPlugin"><a href="#ExtractTextWebpackPlugin" class="headerlink" title="ExtractTextWebpackPlugin"></a>ExtractTextWebpackPlugin</h5><ul>
<li>使用mini-css-extract-plugin</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">const MiniCssExtractPlugin = require(&quot;mini-css-extract-plugin&quot;);</span><br><span class="line">module.exports = &#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    new MiniCssExtractPlugin(&#123;</span><br><span class="line">      // Options similar to the same options in webpackOptions.output</span><br><span class="line">      // both options are optional</span><br><span class="line">      filename: &quot;[name].css&quot;,</span><br><span class="line">      chunkFilename: &quot;[id].css&quot;</span><br><span class="line">    &#125;)</span><br><span class="line">  ],</span><br><span class="line">  module: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: /\.css$/,</span><br><span class="line">        use: [</span><br><span class="line">          MiniCssExtractPlugin.loader,  // replace ExtractTextPlugin.extract(&#123;..&#125;)</span><br><span class="line">          &quot;css-loader&quot;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/19/React-findDomNode与this-refs的区别/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Gaye Cheng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/19/React-findDomNode与this-refs的区别/" itemprop="url">React.findDomNode与this.refs的区别</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-04-19T12:33:00+08:00">
                2018-04-19
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/React/" itemprop="url" rel="index">
                    <span itemprop="name">React</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/04/19/React-findDomNode与this-refs的区别/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/04/19/React-findDomNode与this-refs的区别/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2018/04/19/React-findDomNode与this-refs的区别/" class="leancloud_visitors" data-flag-title="React.findDomNode与this.refs的区别">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="ref"><a href="#ref" class="headerlink" title="ref"></a>ref</h4><ul>
<li>ref添加到Component上获取的是Component实例，添加到原生HTML上获取的是DOM对象</li>
</ul>
<h4 id="ReactDOM-findDOMNode"><a href="#ReactDOM-findDOMNode" class="headerlink" title="ReactDOM.findDOMNode"></a>ReactDOM.findDOMNode</h4><ul>
<li>当传入参数是DOM，返回的就是DOM， 当参数是Component，返回的是Component render方法中返回的DOM</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/19/React拖拽库/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Gaye Cheng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/19/React拖拽库/" itemprop="url">React拖拽库</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-04-19T11:48:12+08:00">
                2018-04-19
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/React/" itemprop="url" rel="index">
                    <span itemprop="name">React</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/04/19/React拖拽库/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/04/19/React拖拽库/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2018/04/19/React拖拽库/" class="leancloud_visitors" data-flag-title="React拖拽库">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="react-draggable"><a href="#react-draggable" class="headerlink" title="react-draggable"></a>react-draggable</h2><h3 id="参数说明"><a href="#参数说明" class="headerlink" title="参数说明"></a>参数说明</h3><blockquote>
<ul>
<li>axis<pre><code>值为&apos;x&apos;/&apos;y&apos;
只能在x或y轴上移动
</code></pre></li>
<li>grid<pre><code>值为整形数组 [25, 25], [25, 50]
例:&lt;Draggable grid={[25, 80]}&gt;&lt;/Draggable&gt;
表明x轴和y轴移动的最小单位为多少px
</code></pre></li>
<li>bounds<pre><code>例：&lt;Draggable bounds={{top: -100, left: -100, right: 100, bottom: 100}} &gt;&lt;/Draggable&gt;
说明: 上下左右四个边界最大所能抵达的范围
</code></pre></li>
</ul>
</blockquote>
<h3 id="设置拖拽可用区和禁用区"><a href="#设置拖拽可用区和禁用区" class="headerlink" title="设置拖拽可用区和禁用区"></a>设置拖拽可用区和禁用区</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;Draggable handle=&quot;strong&quot; &#123;...dragHandlers&#125;&gt;</span><br><span class="line">          &lt;div className=&quot;box no-cursor&quot;&gt;</span><br><span class="line">            &lt;strong className=&quot;cursor&quot;&gt;&lt;div&gt;Drag here&lt;/div&gt;&lt;/strong&gt;</span><br><span class="line">            &lt;div&gt;You must click my handle to drag me&lt;/div&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/Draggable&gt;</span><br><span class="line"></span><br><span class="line">        &lt;Draggable cancel=&quot;strong&quot; &#123;...dragHandlers&#125;&gt;</span><br><span class="line">          &lt;div className=&quot;box&quot;&gt;</span><br><span class="line">            &lt;strong className=&quot;no-cursor&quot;&gt;Can&apos;t drag here&lt;/strong&gt;</span><br><span class="line">            &lt;div&gt;Dragging here works&lt;/div&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/Draggable&gt;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/18/利用Hexo快速搭建你的博客/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Gaye Cheng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/18/利用Hexo快速搭建你的博客/" itemprop="url">利用Hexo快速搭建你的博客</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-04-18T00:20:57+08:00">
                2018-04-18
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Node-js/" itemprop="url" rel="index">
                    <span itemprop="name">Node.js</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/04/18/利用Hexo快速搭建你的博客/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/04/18/利用Hexo快速搭建你的博客/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2018/04/18/利用Hexo快速搭建你的博客/" class="leancloud_visitors" data-flag-title="利用Hexo快速搭建你的博客">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Hexo发布文章基本步骤"><a href="#Hexo发布文章基本步骤" class="headerlink" title="Hexo发布文章基本步骤"></a>Hexo发布文章基本步骤</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>
<h2 id="功能丰富的Next主题"><a href="#功能丰富的Next主题" class="headerlink" title="功能丰富的Next主题"></a>功能丰富的Next主题</h2><ul>
<li>主题配置： 添加标签，分类</li>
<li>第三方服务: 评论系统，分享，浏览量统计</li>
</ul>
<p>更多内容: <a href="http://theme-next.iissnan.com/" target="_blank" rel="noopener">Next</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/18/初探NodeJs模板引擎Pug/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Gaye Cheng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/18/初探NodeJs模板引擎Pug/" itemprop="url">初探NodeJs模板引擎Pug</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-04-18T00:10:42+08:00">
                2018-04-18
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Node-js/" itemprop="url" rel="index">
                    <span itemprop="name">Node.js</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/04/18/初探NodeJs模板引擎Pug/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/04/18/初探NodeJs模板引擎Pug/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2018/04/18/初探NodeJs模板引擎Pug/" class="leancloud_visitors" data-flag-title="初探NodeJs模板引擎Pug">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/17/nginx反向代理基础配置/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Gaye Cheng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/17/nginx反向代理基础配置/" itemprop="url">nginx反向代理基础配置</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-04-17T23:55:26+08:00">
                2018-04-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Node-js/" itemprop="url" rel="index">
                    <span itemprop="name">Node.js</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/04/17/nginx反向代理基础配置/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/04/17/nginx反向代理基础配置/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2018/04/17/nginx反向代理基础配置/" class="leancloud_visitors" data-flag-title="nginx反向代理基础配置">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line">user www-data;</span><br><span class="line">worker_processes 4;</span><br><span class="line">worker_rlimit_nofile 65535;</span><br><span class="line">pid /run/nginx.pid;</span><br><span class="line"></span><br><span class="line">events &#123;</span><br><span class="line">        worker_connections 65535;</span><br><span class="line">        # multi_accept on;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">http &#123;</span><br><span class="line"></span><br><span class="line">        ##</span><br><span class="line">        # Basic Settings</span><br><span class="line">        ##</span><br><span class="line"></span><br><span class="line">        sendfile on;</span><br><span class="line">        tcp_nopush on;</span><br><span class="line">        tcp_nodelay on;</span><br><span class="line">        keepalive_timeout 65;</span><br><span class="line">        types_hash_max_size 2048;</span><br><span class="line">        # server_tokens off;</span><br><span class="line"></span><br><span class="line">        # server_names_hash_bucket_size 64;</span><br><span class="line"></span><br><span class="line">        # server_name_in_redirect off;</span><br><span class="line"></span><br><span class="line">        include /etc/nginx/mime.types;</span><br><span class="line">        default_type application/octet-stream;</span><br><span class="line"></span><br><span class="line">        ##</span><br><span class="line">        # Logging Settings</span><br><span class="line">        ##</span><br><span class="line"></span><br><span class="line">        access_log /var/log/nginx/access.log;</span><br><span class="line">        error_log /var/log/nginx/error.log;</span><br><span class="line"></span><br><span class="line">        ##</span><br><span class="line">        # Gzip Settings</span><br><span class="line">        ##</span><br><span class="line"></span><br><span class="line">        gzip on;</span><br><span class="line">        gzip_disable &quot;msie6&quot;;</span><br><span class="line"></span><br><span class="line">        # gzip_vary on;</span><br><span class="line">        # gzip_proxied any;</span><br><span class="line">        # gzip_comp_level 6;</span><br><span class="line">        # gzip_buffers 16 8k;</span><br><span class="line">        # gzip_http_version 1.1;</span><br><span class="line">        # gzip_types text/plain text/css application/json application/x-javascript text/xml application/xml application/xml+rss text/javascript;</span><br><span class="line"></span><br><span class="line">        server &#123;</span><br><span class="line">                listen       80;</span><br><span class="line">                #server_name  www.chengjinlu.top;</span><br><span class="line">                server_name  localhost;</span><br><span class="line"></span><br><span class="line">                #charset koi8-r;</span><br><span class="line"></span><br><span class="line">                #access_log  logs/host.access.log  main;</span><br><span class="line"></span><br><span class="line">                rewrite ^/(.*)/$ /$1 permanent;</span><br><span class="line"></span><br><span class="line">                location / &#123;</span><br><span class="line">                        #try_files $uri $uri/ /html/index.html;</span><br><span class="line">                        #rewrite ^/api/(.*)$ /$1 break;</span><br><span class="line">                        #try_files $uri $uri/ /index.html;</span><br><span class="line">                        proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">                        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">                        proxy_set_header Host  $http_host;</span><br><span class="line">                        proxy_set_header X-Nginx-Proxy true;</span><br><span class="line">                        proxy_set_header Connection &quot;&quot;;</span><br><span class="line">                        proxy_pass http://127.0.0.1:3000;</span><br><span class="line">                        proxy_redirect off;</span><br><span class="line">                        #root   html;</span><br><span class="line">                        #root   html;</span><br><span class="line">                        #index  index.html;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Gaye Cheng</p>
              <p class="site-description motion-element" itemprop="description">情深不寿，慧极必伤</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">14</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">10</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Gaye Cheng</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  
  <!-- custom analytics part create by xiamo -->
<script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
<script>AV.initialize("U9QcW5UlYun5wuta7fI3P8t2-gzGzoHsz", "ibyy8lMKCc4gUVMRHSwTMFjQ");</script>
<script>
  function showTime(Counter) {
    var query = new AV.Query(Counter);
    $(".leancloud_visitors").each(function() {
      var url = $(this).attr("id").trim();
      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length == 0) {
            var content = $(document.getElementById(url)).text() + ': 0';
            $(document.getElementById(url)).text(content);
            return;
          }
          for (var i = 0; i < results.length; i++) {
            var object = results[i];
            var content = $(document.getElementById(url)).text() + ': ' + object.get('time');
            $(document.getElementById(url)).text(content);
          }
        },
        error: function(object, error) {
          console.log("Error: " + error.code + " " + error.message);
        }
      });
      
    });
  }
  
  function addCount(Counter) {
    var Counter = AV.Object.extend("Counter");
    url = $(".leancloud_visitors").attr('id').trim();
    title = $(".leancloud_visitors").attr('data-flag-title').trim();
    var query = new AV.Query(Counter);
    query.equalTo("url", url);
    query.find({
      success: function(results) {
        if (results.length > 0) {
          var counter = results[0];
          counter.fetchWhenSave(true);
          counter.increment("time");
          counter.save(null, {
            success: function(counter) {
              var content = $(document.getElementById(url)).text() + ': ' + counter.get('time');
              $(document.getElementById(url)).text(content);
            },
            error: function(counter, error) {
              console.log('Failed to save Visitor num, with error message: ' + error.message);
            }
          });
        } else {
          var newcounter = new Counter();
          newcounter.set("title", title);
          newcounter.set("url", url);
          newcounter.set("time", 1);
          newcounter.save(null, {
            success: function(newcounter) {
              console.log("newcounter.get('time')="+newcounter.get('time'));
              var content = $(document.getElementById(url)).text() + ': ' + newcounter.get('time');
              $(document.getElementById(url)).text(content);
            },
            error: function(newcounter, error) {
              console.log('Failed to create');
            }
          });
        }
      },
      error: function(error) {
        console.log('Error:' + error.code + " " + error.message);
      }
    });
  }
  $(function() {
    var Counter = AV.Object.extend("Counter");
    if ($('.leancloud_visitors').length == 1) {
      addCount(Counter);
    } else if ($('.post-title-link').length > 1) {
      showTime(Counter);
    }
  });
</script>

  

  


  

    
      <script id="dsq-count-scr" src="https://chengxiao.disqus.com/count.js" async></script>
    

    

  




	





  














  





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("U9QcW5UlYun5wuta7fI3P8t2-gzGzoHsz", "ibyy8lMKCc4gUVMRHSwTMFjQ");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  
  

  

  

  

</body>
</html>
